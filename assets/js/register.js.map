{"version":3,"file":"register.js","sources":["register.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\ndocument.addEventListener(\"DOMContentLoaded\", function (e) {\n  var registerForm = document.getElementById(\"smart-register-form\");\n  var btn = document.getElementById(\"submit-register-form\");\n  registerForm.addEventListener(\"submit\", function (e) {\n    e.preventDefault();\n    activateSpinner(btn); //ajax request\n\n    var url = registerForm.dataset.url;\n    console.log(url);\n    var params = new URLSearchParams(new FormData(registerForm));\n    fetch(url, {\n      method: \"POST\",\n      body: params\n    }).then(function (res) {\n      return res.json();\n    }).catch(function (error) {\n      console.error(error);\n    }).then(function (response) {\n      //handle response\n      if (response === 0 || response.status === \"error\") {\n        // registerForm.querySelector(\".js-form-error\").classList.add(\"show\");\n        return;\n      }\n\n      deactivateSpinner(btn); // registerForm.querySelector(\".js-form-success\").classList.add(\"show\");\n\n      registerForm.reset();\n      return;\n    });\n  });\n});\n\nfunction activateSpinner($btn) {\n  $btn.classList.add(\"spin\");\n  $btn.disabled = true;\n  return;\n}\n\nfunction deactivateSpinner($btn) {\n  $btn.classList.remove(\"spin\");\n  $btn.disabled = false;\n  return;\n}\n\n},{}]},{},[1]);\n"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","document","addEventListener","registerForm","getElementById","btn","preventDefault","$btn","classList","add","disabled","url","dataset","console","log","params","URLSearchParams","FormData","fetch","method","body","then","res","json","catch","error","response","status","remove","reset"],"mappings":"CAAY,SAASA,EAAEC,EAAEC,EAAEC,GAAG,SAASC,EAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,IAAIE,EAAE,mBAAmBC,SAASA,QAAQ,IAAIF,GAAGC,EAAE,OAAOA,EAAEF,GAAE,GAAI,GAAGI,EAAE,OAAOA,EAAEJ,GAAE,GAAkD,MAA1CK,EAAE,IAAIC,MAAM,uBAAuBN,EAAE,MAAaO,KAAK,mBAAmBF,EAAMG,EAAEX,EAAEG,GAAG,CAACS,QAAQ,IAAIb,EAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAoB,OAAOI,EAAlBH,EAAEI,GAAG,GAAGL,IAAeA,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,OAAOD,EAAEG,GAAGS,QAAQ,IAAI,IAAIL,EAAE,mBAAmBD,SAASA,QAAQH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,IAAI,OAAOD,EAA7b,CAA4c,CAACa,EAAE,CAAC,SAAST,EAAQU,EAAOJ,gBAGxeK,SAASC,iBAAiB,mBAAoB,SAAUnB,GACtD,IAAIoB,EAAeF,SAASG,eAAe,uBACvCC,EAAMJ,SAASG,eAAe,wBAClCD,EAAaD,iBAAiB,SAAU,SAAUnB,GAChDA,EAAEuB,kBA4BmBC,EA3BLF,GA4BbG,UAAUC,IAAI,QACnBF,EAAKG,UAAW,EA3BVC,EAAMR,EAAaS,QAAQD,IAC/BE,QAAQC,IAAIH,GACZ,IAAII,EAAS,IAAIC,gBAAgB,IAAIC,SAASd,IAC9Ce,MAAMP,EAAK,CACTQ,OAAQ,OACRC,KAAML,IACLM,KAAK,SAAUC,GAChB,OAAOA,EAAIC,SACVC,MAAM,SAAUC,GACjBZ,QAAQY,MAAMA,KACbJ,KAAK,SAAUK,GAEC,IAAbA,GAAsC,UAApBA,EAASC,UAmBVpB,EAdHF,GAejBG,UAAUoB,OAAO,QACtBrB,EAAKG,UAAW,EAdZP,EAAa0B,gBAkBjB,KAAK,GAAG,CAAC"}