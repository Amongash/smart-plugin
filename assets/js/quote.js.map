{"version":3,"file":"quote.js","sources":["quote.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.showPageLoader = showPageLoader;\nexports.hideLoaderShowResponse = hideLoaderShowResponse;\nexports.activateSpinner = activateSpinner;\nexports.deactivateSpinner = deactivateSpinner;\nexports.hideForm = hideForm;\n\nfunction showPageLoader($overlay, $loader) {\n  $overlay.fadeIn(\"slow\");\n  $loader.attr(\"style\", \"display:block\");\n}\n\nfunction hideLoaderShowResponse($overlay, $loader) {\n  $overlay.hide();\n  $loader.attr(\"style\", \"display:none\");\n}\n\nfunction activateSpinner($btn) {\n  $btn.attr(\"class\", \"spin\");\n  $btn.prop(\"disabled\", true);\n  return;\n}\n\nfunction deactivateSpinner($btn) {\n  $btn.removeAttr(\"class\", \"spin\");\n  $btn.prop(\"disabled\", false);\n  return;\n}\n\nfunction hideForm($form, $overlay, $loader, $message) {\n  if (!$form) return;\n  $form.fadeOut(3000, function () {\n    hideLoaderShowResponse($overlay, $loader);\n    $form.fadeOut(\"fast\");\n    $message.attr(\"style\", \"display:block\");\n  });\n}\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\nvar _helpers = require(\"./helpers\");\n\n(function ($) {\n  var quoteForm = $(\"#smart-quote-form\");\n  var message = $(\"#smart-message-container\");\n  var overlay = $(\".overlay\");\n  var loader = $(\".lds-ellipsis\");\n\n  function collectData() {\n    var items = 0;\n    $(\".list_items\").each(function () {\n      items++;\n    });\n    var first_name = retrieveFormValues(\"first_name\");\n    var last_name = retrieveFormValues(\"last_name\");\n    var phone = retrieveFormValues(\"phone\");\n    var email = retrieveFormValues(\"email\");\n    var confirm_email = retrieveFormValues(\"confirm_email\");\n    var service = retrieveCheckboxValues_Array(\"service\");\n    var product_name = retrieveFormValues_Array(\"product_name\");\n    var product_link = retrieveFormValues_Array(\"product_link\");\n    var product_option = retrieveFormValues_Array(\"product_option\");\n    var product_quantity = retrieveFormValues_Array(\"product_quantity\");\n    var other_info = retrieveFormValues(\"other_info\");\n    var nonce = retrieveFormValues(\"nonce\");\n    var products = [];\n\n    for (var i = 0; i < items; i++) {\n      var get_name = product_name[i];\n      var get_link = product_link[i];\n      var get_option = product_option[i];\n      var get_quantity = product_quantity[i];\n      var data = {\n        name: get_name,\n        link: get_link,\n        options: get_option,\n        quantity: get_quantity\n      };\n      products.push(data);\n    }\n\n    return {\n      first_name: first_name,\n      last_name: last_name,\n      phone: phone,\n      email: email,\n      confirm_email: confirm_email,\n      service: service,\n      products: products,\n      other_info: other_info,\n      nonce: nonce,\n      action: \"submit_quote\"\n    };\n  } // Initialize form validation on the registration form.\n\n\n  $(\"#smart-quote-form\").validate({\n    // Submit the form\n    submitHandler: function submitHandler() {\n      var data = collectData();\n      $.ajax({\n        url: quoteForm.data(\"url\"),\n        type: \"POST\",\n        data: data,\n        beforeSend: function beforeSend() {\n          (0, _helpers.showPageLoader)(overlay, loader);\n        },\n        success: function success(data, status) {\n          if (status !== \"success\") return;\n          (0, _helpers.hideForm)(quoteForm, overlay, loader, message); // hideLoaderShowResponse(overlay, loader);\n        },\n        error: function error(jqXHR, textStatus, errorThrown) {//if fails\n          // console.log(errorThrown);\n        }\n      });\n    }\n  });\n  $(\".add_list_item\").on(\"click\", function () {\n    var clone = $(\"#template\").clone(true);\n    clone = clone.removeAttr(\"id\").removeAttr(\"style\").attr(\"id\", \"list_items\").attr(\"class\", \"gfield_list_row gfield_list_group list_items\");\n    clone.insertBefore(\"#template\");\n  });\n  $(\".delete_list_item\").on(\"click\", function () {\n    var parent = $(this).parent().parent();\n    var container = $(\".list_items\");\n    if (container.length === 1) return;\n    parent.remove();\n  });\n\n  $.validator.methods.phone = function (value, element) {\n    return this.optional(element) || /^(\\+254-|\\+254|0)?\\d{10}$/.test(value);\n  };\n\n  function retrieveFormValues_Array(name) {\n    var value = new Array();\n    var counter = 0;\n    $(\"input[name=\" + name + \"], select[name=\" + name + \"]\").each(function (i, v) {\n      var theElement = $(v);\n      var theValue = theElement.val();\n      value[counter] = theValue;\n      counter++;\n    });\n    return value;\n  }\n\n  function retrieveCheckboxValues_Array(name) {\n    var value = new Array();\n    var counter = 0;\n    $(\"input[name=\" + name + \"][type=checkbox]:checked\").each(function (i, v) {\n      var theElement = $(v);\n      var theValue = theElement.val();\n      value[counter] = theValue;\n      counter++;\n    });\n    return value;\n  }\n\n  function retrieveFormValues(name) {\n    var value;\n    $(\"input[name=\" + name + \"], select[name=\" + name + \"], textarea[name=\" + name + \"]\").each(function (i, v) {\n      var theElement = $(v);\n      var theValue = theElement.val();\n      value = theValue;\n    });\n    return value;\n  }\n})(jQuery);\n\n},{\"./helpers\":1}]},{},[2]);\n"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","hideLoaderShowResponse","$overlay","$loader","hide","attr","Object","defineProperty","value","showPageLoader","fadeIn","activateSpinner","$btn","prop","deactivateSpinner","removeAttr","hideForm","$form","$message","fadeOut","2","$","quoteForm","message","overlay","loader","_helpers","collectData","items","each","counter","first_name","retrieveFormValues","last_name","phone","email","confirm_email","service","name","Array","v","theValue","val","product_name","retrieveFormValues_Array","product_link","product_option","product_quantity","other_info","nonce","products","get_name","get_link","get_option","get_quantity","push","link","options","quantity","action","jQuery","validate","submitHandler","data","ajax","url","type","beforeSend","success","status","error","jqXHR","textStatus","errorThrown","on","clone","insertBefore","parent","this","remove","validator","methods","element","optional","test","./helpers"],"mappings":"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"}